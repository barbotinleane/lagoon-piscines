{{ form_start(form) }}
    <div class="row my-2 py-4 px-3 bg-grey">
        <div class="col-12">
            <div class="inter-black fs-5 py-1">
                {{ form_label(form.libelle) }}
            </div>
            {{ form_widget(form.libelle) }}

            <div class="form-error">
                {{ form_errors(form.libelle) }}
            </div>
        </div>
    </div>

    <div class="row my-2 py-4 px-3 bg-grey">
        <div class="col-12">
            <div class="inter-black fs-5 py-1">
                <i class="fas fa-image"></i>
                {{ form_label(form.imageName) }}
            </div>
            {% if form.vars.data.image %}
                <div class= py-4 px-3 text-center">
                    <img src="{{ asset('uploads/images/formations/' ~ formation_libelle.image) }}"
                         class="w-75 mx-auto rounded-corners">
                </div>
            {% endif %}
            {{ form_widget(form.imageName) }}
        </div>
    </div>

    <div class="row my-2 py-4 px-3 bg-grey">
        <div class="col-12">
            <div class="inter-black fs-5 py-1">
                <i class="fas fa-align-justify"></i>
                <span>
                    {{ form_label(form.presentation) }}
                </span>
            </div>
            {{ form_widget(form.presentation) }}

            <div class="form-error">
                {{ form_errors(form.presentation) }}
            </div>
        </div>
    </div>

    <div class="row my-2 py-4 px-3 bg-grey">
        <div class="col-12 col-sm-6 col-md-4">
            <div class="inter-black fs-5 py-1">
                <i class="fa fa-calendar"></i>
                <span class="fw-bold">
                    {{ form_label(form.duration) }}
                </span>
            </div>
            {{ form_widget(form.duration) }}

            <div class="form-error">
                {{ form_errors(form.duration) }}
            </div>
        </div>

        <div class="col-12 col-sm-6 col-md-4">
            <div class="inter-black fs-5 py-1">
                <i class="fa fa-euro"></i>
                <span class="fw-bold">
                    {{ form_label(form.cost) }}
                </span>
            </div>
            {{ form_widget(form.cost) }}

            <div class="form-error">
                {{ form_errors(form.cost) }}
            </div>
        </div>

        <div class="col-12 col-sm-6 col-md-4">
            <div class="inter-black fs-5 py-1">
                <i class="fa fa-map-marker"></i>
                <span class="fw-bold">
                    {{ form_label(form.place) }}
                </span>
            </div>
            {{ form_widget(form.place) }}

            <div class="form-error">
                {{ form_errors(form.place) }}
            </div>
        </div>
    </div>

    <div class="row my-2 bg-grey py-4 px-3">
        <div class="col-12">
            <div class="inter-black fs-5 py-1">
                <i class="fas fa-crosshairs"></i>
                <span class="fw-bold">Objectifs</span>
            </div>
            A l'issue de la formation, les stagiaires seront capables :

            <div class="p-2">
                <ul class="goals ps-0"
                    style="list-style-type: none;"
                    data-index="{{ form.formationGoals|length > 0 ? form.formationGoals|last.vars.name + 1 : 0 }}"
                    data-prototype="{{ form_widget(form.formationGoals.vars.prototype)|e('html_attr') }}"
                >
                    {% for goal in form.formationGoals %}
                        <li>
                            <div>
                                {{ form_widget(goal) }}

                                <div class="form-error">
                                    {{ form_errors(goal) }}
                                </div>
                            </div>
                        </li>
                    {% endfor %}
                </ul>

                <div class="text-center">
                    <button type="button" class="add_goal_link btn btn-success rounded-corners"
                            data-collection-holder-class="goals">
                        <i class="fa fa-plus"></i>
                        Ajouter un objectif
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="row my-2 bg-grey py-4 px-3">
        <div class="col-12">
            <div class="inter-black fs-5 py-1">
                <i class="fas fa-images"></i>
                <span>Images</span>
            </div>

            <div class="p-2">
                <ul class="images ps-0"
                    style="list-style-type: none;"
                    data-index="{{ form.formationImages|length > 0 ? form.formationImages|last.vars.name + 1 : 0 }}"
                    data-prototype="{{ form_widget(form.formationImages.vars.prototype)|e('html_attr') }}"
                >
                    {% for image in form.formationImages %}
                        <li>
                            <div>
                                <div class= py-4 px-3 text-center">
                                    <img src="{{ asset('uploads/images/formations/' ~ image.vars.data.imageName) }}"
                                         class="w-100 mx-auto rounded-corners">
                                </div>
                                {{ form_widget(image) }}

                                <div class="form-error">
                                    {{ form_errors(image) }}
                                </div>
                            </div>
                        </li>
                    {% endfor %}
                </ul>

                <div class="text-center">
                    <button type="button" class="add_image_link btn btn-success rounded-corners"
                            data-collection-holder-class="images">
                        <i class="fa fa-plus"></i>
                        Ajouter une image
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="row my-2 py-4 px-3 bg-grey">
        <div class="col-12 col-sm-6 col-md-4">
            <div class="d-flex inter-black fs-5 py-1">
                <div class="pe-1">
                    <i class="far fa-smile"></i>
                </div>
                <span class="fw-bold">
                    {{ form_label(form.satisfactionRate) }}
                </span>
            </div>
            {{ form_widget(form.satisfactionRate) }}

            <div class="form-error">
                {{ form_errors(form.satisfactionRate) }}
            </div>
        </div>

        <div class="col-12 col-sm-6 col-md-4">
            <div class="d-flex inter-black fs-5 py-1">
                <div class="pe-1">
                    <i class="fas fa-graduation-cap"></i>
                </div>
                <span class="fw-bold">
                    {{ form_label(form.individualSuccessRate) }}
                </span>
            </div>
            {{ form_widget(form.individualSuccessRate) }}

            <div class="form-error">
                {{ form_errors(form.individualSuccessRate) }}
            </div>
        </div>

        <div class="col-12 col-sm-6 col-md-4">
            <div class="d-flex inter-black fs-5 py-1">
                <div class="pe-1">
                    <i class="fas fa-building"></i>
                </div>
                <span class="fw-bold">
                    {{ form_label(form.companyApprovalRate) }}
                </span>
            </div>
            {{ form_widget(form.companyApprovalRate) }}

            <div class="form-error">
                {{ form_errors(form.companyApprovalRate) }}
            </div>
        </div>
    </div>

    <div class="row my-2 py-4 px-3 bg-grey">
        <div>
            <label class="fw-bold">{{ form_label(form.displayOnLagoonPiscines) }}</label>
            <div class="buttons-group">
                {% for child in form.displayOnLagoonPiscines.children %}
                    <div class="">
                        <div class="">
                            {{ form_widget(child, {'attr': {'class': 'form-check-input'}}) }}
                            <label class="form-check-label required" for="{{ child.vars.id }}" >{{ child.vars.label }}</label>
                        </div>
                    </div>
                {% endfor %}
            </div>

            <div class="form-error">
                {{ form_errors(form.displayOnLagoonPiscines) }}
            </div>
        </div>

        <div>
            <label class="fw-bold">{{ form_label(form.agrement) }}</label>
            <div class="buttons-group">
                {% for child in form.agrement.children %}
                    <div class="">
                        <div class="">
                            {{ form_widget(child, {'attr': {'class': 'form-check-input'}}) }}
                            <label class="form-check-label required" for="{{ child.vars.id }}" >{{ child.vars.label }}</label>
                        </div>
                    </div>
                {% endfor %}
            </div>

            <div class="form-error">
                {{ form_errors(form.agrement) }}
            </div>
        </div>
    </div>

    <div class="row my-2 py-4 px-3 bg-grey">
        <div class="col-12">
            <div class="inter-black fs-5 py-1">
                <i class="far fa-file-pdf"></i>
                <span>
                    {{ form_label(form.programNameOfFile) }}
                </span>
            </div>
            {% if form.vars.data.programName %}
                <div class="text-center">
                    <iframe src="{{ asset('uploads/programs/' ~ formation_libelle.programName) }}"
                            height="400"
                            class="w-100">
                    </iframe>
                </div>
            {% endif %}
            {{ form_widget(form.programNameOfFile) }}

            <div class="form-error">
                {{ form_errors(form.programNameOfFile) }}
            </div>
        </div>
    </div>

    <div class="pt-4 text-center">
        <button class="btn btn-lg btn-success rounded-corners">
            <i class="fa fa-check"></i>
            {{ button_label|default('Valider') }}
        </button>
    </div>
{{ form_end(form) }}